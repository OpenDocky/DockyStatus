module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},71116,(a,b,c)=>{"use strict";b.exports=a.r(95199).vendored["react-ssr"].ReactServerDOMTurbopackClient},47510,a=>{"use strict";var b=a.i(73261),c=a.i(60170),d=a.i(9489),e=a.i(61548);let f=(0,d.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function g({className:a,variant:d,size:g,asChild:h=!1,...i}){let j=h?c.Slot:"button";return(0,b.jsx)(j,{"data-slot":"button",className:(0,e.cn)(f({variant:d,size:g,className:a})),...i})}a.s(["Button",()=>g])},79244,a=>{"use strict";let b=(0,a.i(92289).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],79244)},24983,a=>{"use strict";var b=a.i(73261),c=a.i(32168),d=a.i(47510),e=a.i(79244);function f(){return(0,b.jsx)("header",{className:"border-b bg-card",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(c.default,{href:"/",className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex items-center justify-center size-10 rounded-lg bg-primary text-primary-foreground",children:(0,b.jsx)(e.AlertCircle,{className:"size-6"})}),(0,b.jsx)("span",{className:"text-xl font-bold",children:"StatusWatch"})]}),(0,b.jsxs)("nav",{className:"flex items-center gap-4",children:[(0,b.jsx)(c.default,{href:"/add-company",children:(0,b.jsx)(d.Button,{variant:"outline",children:"Ajouter une entreprise"})}),(0,b.jsx)(c.default,{href:"/report",children:(0,b.jsx)(d.Button,{children:"Signaler un problème"})})]})]})})})}a.s(["Header",()=>f])},11975,a=>{"use strict";var b=a.i(73261),c=a.i(51792),d=a.i(24983),e=a.i(54679),f=a.i(4610),g=a.i(47510),h=a.i(79244);let i=(0,a.i(92289).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var j=a.i(32168),k=a.i(87912),l=a.i(25393),m=a.i(47814),n=a.i(71137);function o({service:a}){let[d,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{(async()=>{q(!0),o(await (0,k.getReportsByServiceId)(a.id)),q(!1)})()},[a.id]),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(j.default,{href:"/",children:(0,b.jsxs)(g.Button,{variant:"ghost",size:"sm",children:[(0,b.jsx)(i,{className:"size-4 mr-2"}),"Retour"]})}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"size-16 rounded-lg bg-muted flex items-center justify-center text-2xl font-bold",children:a.name.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-3xl",children:a.name}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:a.category})]})]}),(0,b.jsx)(f.Badge,{variant:"outline",className:`${(a=>{switch(a){case"operational":return"bg-green-500";case"degraded":return"bg-yellow-500";case"down":return"bg-red-500";default:return"bg-gray-500"}})(a.status)} text-white border-0`,children:(a=>{switch(a){case"operational":return"Opérationnel";case"degraded":return"Dégradé";case"down":return"Hors ligne";default:return"Inconnu"}})(a.status)})]})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:a.description}),(0,b.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Signalements (24h)"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:a.reportsCount})]}),(0,b.jsxs)("div",{className:"border-l pl-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Site web"}),(0,b.jsx)("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:a.website})]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Signalements récents"}),(0,b.jsx)(j.default,{href:`/report?service=${a.id}`,children:(0,b.jsxs)(g.Button,{children:[(0,b.jsx)(h.AlertCircle,{className:"size-4 mr-2"}),"Signaler un problème"]})})]}),p?(0,b.jsx)("div",{className:"space-y-4",children:[void 0,void 0].map((a,c)=>(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Skeleton,{className:"h-6 w-24"}),(0,b.jsx)(n.Skeleton,{className:"h-4 w-28"})]}),(0,b.jsx)(n.Skeleton,{className:"h-5 w-full"}),(0,b.jsx)(n.Skeleton,{className:"h-4 w-48"})]})})},c))}):(0,b.jsx)("div",{className:"space-y-4",children:0===d.length?(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"p-8 text-center text-muted-foreground",children:"Aucun signalement pour ce service"})}):d.map(a=>(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Badge,{variant:"secondary",children:(a=>{switch(a){case"connection":return"Connexion";case"slow":return"Lent";case"outage":return"Panne";default:return a}})(a.problemType)}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:(0,l.formatDistanceToNow)(new Date(a.timestamp),{addSuffix:!0,locale:m.fr})})]}),a.description&&(0,b.jsx)("p",{className:"text-foreground",children:a.description}),a.location&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Localisation: ",a.location]})]})})})},a.id))})]})}function p({params:a}){let[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(null);return(0,c.useEffect)(()=>{(async()=>{if(a.id){h(!0);try{let b=await (0,k.getServiceById)(a.id);b?f(b):j("Service non trouvé")}catch(a){j("Erreur lors du chargement du service"),console.error(a)}finally{h(!1)}}})()},[a.id]),(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(d.Header,{}),(0,b.jsx)("main",{className:"container mx-auto px-4 py-8",children:g?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(n.Skeleton,{className:"h-8 w-24"}),(0,b.jsx)(n.Skeleton,{className:"h-48 w-full"}),(0,b.jsx)(n.Skeleton,{className:"h-8 w-48"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(n.Skeleton,{className:"h-24 w-full"}),(0,b.jsx)(n.Skeleton,{className:"h-24 w-full"})]})]}):i?(0,b.jsx)("div",{className:"text-center py-16",children:(0,b.jsx)("p",{className:"text-red-500",children:i})}):e?(0,b.jsx)(o,{service:e}):null})]})}a.s(["default",()=>p],11975)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__67fae854._.js.map