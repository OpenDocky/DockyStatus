module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},71116,(a,b,c)=>{"use strict";b.exports=a.r(95199).vendored["react-ssr"].ReactServerDOMTurbopackClient},87265,a=>{"use strict";var b=a.i(73261),c=a.i(61548);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},47510,a=>{"use strict";var b=a.i(73261),c=a.i(60170),d=a.i(9489),e=a.i(61548);let f=(0,d.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function g({className:a,variant:d,size:g,asChild:h=!1,...i}){let j=h?c.Slot:"button";return(0,b.jsx)(j,{"data-slot":"button",className:(0,e.cn)(f({variant:d,size:g,className:a})),...i})}a.s(["Button",()=>g])},79244,a=>{"use strict";let b=(0,a.i(92289).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],79244)},24983,a=>{"use strict";var b=a.i(73261),c=a.i(32168),d=a.i(47510),e=a.i(79244);function f(){return(0,b.jsx)("header",{className:"border-b bg-card",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(c.default,{href:"/",className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex items-center justify-center size-10 rounded-lg bg-primary text-primary-foreground",children:(0,b.jsx)(e.AlertCircle,{className:"size-6"})}),(0,b.jsx)("span",{className:"text-xl font-bold",children:"StatusWatch"})]}),(0,b.jsxs)("nav",{className:"flex items-center gap-4",children:[(0,b.jsx)(c.default,{href:"/add-company",children:(0,b.jsx)(d.Button,{variant:"outline",children:"Ajouter une entreprise"})}),(0,b.jsx)(c.default,{href:"/report",children:(0,b.jsx)(d.Button,{children:"Signaler un problème"})})]})]})})})}a.s(["Header",()=>f])},53051,a=>{"use strict";var b=a.i(73261),c=a.i(24983),d=a.i(51792),e=a.i(36910),f=a.i(54679),g=a.i(47510),h=a.i(87265),i=a.i(79525),j=a.i(32421),k=a.i(25015),l=a.i(87912),m=a.i(66587),n=a.i(59770);function o(){let a=(0,e.useRouter)(),c=(0,e.useSearchParams)(),{toast:o}=(0,m.useToast)(),[p,q]=(0,d.useState)([]),[r,s]=(0,d.useState)(!0),[t,u]=(0,d.useState)(!1),[v,w]=(0,d.useState)(""),[x,y]=(0,d.useState)(""),[z,A]=(0,d.useState)(""),[B,C]=(0,d.useState)("");(0,d.useEffect)(()=>{(async()=>{s(!0),q(await (0,l.getServices)()),s(!1)})()},[]),(0,d.useEffect)(()=>{let a=c.get("service");a&&w(a)},[c,p]);let D=async b=>{if(b.preventDefault(),u(!0),!v||!x){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"}),u(!1);return}try{await (0,l.addReport)({serviceId:v,problemType:x,description:z,location:B}),o({title:"Signalement envoyé",description:"Merci pour votre contribution !"}),a.push(`/service/${v}`)}catch(a){o({title:"Erreur",description:"Une erreur est survenue lors de l'envoi du signalement.",variant:"destructive"}),u(!1)}};return(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-6",children:(0,b.jsxs)("form",{onSubmit:D,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"service",children:"Service concerné *"}),(0,b.jsxs)(k.Select,{value:v,onValueChange:w,disabled:r||t,children:[(0,b.jsx)(k.SelectTrigger,{id:"service",children:(0,b.jsx)(k.SelectValue,{placeholder:r?"Chargement...":"Sélectionnez un service"})}),(0,b.jsx)(k.SelectContent,{children:p.map(a=>(0,b.jsx)(k.SelectItem,{value:a.id,children:a.name},a.id))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"problemType",children:"Type de problème *"}),(0,b.jsxs)(k.Select,{value:x,onValueChange:a=>y(a),disabled:t,children:[(0,b.jsx)(k.SelectTrigger,{id:"problemType",children:(0,b.jsx)(k.SelectValue,{placeholder:"Sélectionnez le type"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"connection",children:"Problème de connexion"}),(0,b.jsx)(k.SelectItem,{value:"slow",children:"Service lent"}),(0,b.jsx)(k.SelectItem,{value:"outage",children:"Panne totale"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"description",children:"Description (optionnel)"}),(0,b.jsx)(j.Textarea,{id:"description",placeholder:"Décrivez le problème que vous rencontrez...",value:z,onChange:a=>A(a.target.value),rows:4,disabled:t})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"location",children:"Localisation (optionnel)"}),(0,b.jsx)(h.Input,{id:"location",placeholder:"ex: Paris, France",value:B,onChange:a=>C(a.target.value),disabled:t})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)(g.Button,{type:"submit",className:"flex-1",disabled:t||r,children:[t&&(0,b.jsx)(n.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoyer le signalement"]}),(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>a.back(),disabled:t,children:"Annuler"})]})]})})})}function p(){return(0,b.jsx)(d.Suspense,{fallback:(0,b.jsx)("div",{children:"Chargement…"}),children:(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(c.Header,{}),(0,b.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Signaler un problème"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Aidez la communauté en signalant les problèmes que vous rencontrez avec un service."})]}),(0,b.jsx)(o,{})]})})]})})}a.s(["default",()=>p],53051)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__50f83f96._.js.map